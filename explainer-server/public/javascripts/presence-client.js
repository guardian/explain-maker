!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.presenceClient=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

},{}],2:[function(require,module,exports){
function Buffer(t,e,r){if(!(this instanceof Buffer))return new Buffer(t,e,r);var n,i=typeof t;if("number"===i)n=t>0?t>>>0:0;else if("string"===i)"base64"===e&&(t=base64clean(t)),n=Buffer.byteLength(t,e);else{if("object"!==i||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&isArray(t.data)&&(t=t.data),n=+t.length>0?Math.floor(+t.length):0}if(this.length>kMaxLength)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength.toString(16)+" bytes");var f;Buffer.TYPED_ARRAY_SUPPORT?f=Buffer._augment(new Uint8Array(n)):(f=this,f.length=n,f._isBuffer=!0);var o;if(Buffer.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)f._set(t);else if(isArrayish(t))if(Buffer.isBuffer(t))for(o=0;n>o;o++)f[o]=t.readUInt8(o);else for(o=0;n>o;o++)f[o]=(t[o]%256+256)%256;else if("string"===i)f.write(t,0,e);else if("number"===i&&!Buffer.TYPED_ARRAY_SUPPORT&&!r)for(o=0;n>o;o++)f[o]=0;return f}function hexWrite(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var f=e.length;if(f%2!==0)throw new Error("Invalid hex string");n>f/2&&(n=f/2);for(var o=0;n>o;o++){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[r+o]=u}return o}function utf8Write(t,e,r,n){var i=blitBuffer(utf8ToBytes(e),t,r,n);return i}function asciiWrite(t,e,r,n){var i=blitBuffer(asciiToBytes(e),t,r,n);return i}function binaryWrite(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){var i=blitBuffer(base64ToBytes(e),t,r,n);return i}function utf16leWrite(t,e,r,n){var i=blitBuffer(utf16leToBytes(e),t,r,n);return i}function base64Slice(t,e,r){return base64.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function utf8Slice(t,e,r){var n="",i="";r=Math.min(t.length,r);for(var f=e;r>f;f++)t[f]<=127?(n+=decodeUtf8Char(i)+String.fromCharCode(t[f]),i=""):i+="%"+t[f].toString(16);return n+decodeUtf8Char(i)}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;r>i;i++)n+=String.fromCharCode(t[i]);return n}function binarySlice(t,e,r){return asciiSlice(t,e,r)}function hexSlice(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var i="",f=e;r>f;f++)i+=toHex(t[f]);return i}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),i="",f=0;f<n.length;f+=2)i+=String.fromCharCode(n[f]+256*n[f+1]);return i}function checkOffset(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,i,f){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||f>e)throw new TypeError("value is out of bounds");if(r+n>t.length)throw new TypeError("index out of range")}function objectWriteUInt16(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,f=Math.min(t.length-r,2);f>i;i++)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,f=Math.min(t.length-r,4);f>i;i++)t[r+i]=e>>>8*(n?i:3-i)&255}function checkIEEE754(t,e,r,n,i,f){if(e>i||f>e)throw new TypeError("value is out of bounds");if(r+n>t.length)throw new TypeError("index out of range")}function writeFloat(t,e,r,n,i){return i||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,i){return i||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){for(t=stringtrim(t).replace(INVALID_BASE64_RE,"");t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function isArrayish(t){return isArray(t)||Buffer.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function toHex(t){return 16>t?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(127>=n)e.push(n);else{var i=r;n>=55296&&57343>=n&&r++;for(var f=encodeURIComponent(t.slice(i,r+1)).substr(1).split("%"),o=0;o<f.length;o++)e.push(parseInt(f[o],16))}}return e}function asciiToBytes(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t){for(var e,r,n,i=[],f=0;f<t.length;f++)e=t.charCodeAt(f),r=e>>8,n=e%256,i.push(n),i.push(r);return i}function base64ToBytes(t){return base64.toByteArray(t)}function blitBuffer(t,e,r,n){for(var i=0;n>i&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}function decodeUtf8Char(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("is-array");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var kMaxLength=1073741823;Buffer.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(r){return!1}}(),Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var r=t.length,n=e.length,i=0,f=Math.min(r,n);f>i&&t[i]===e[i];i++);return i!==f&&(r=t[i],n=e[i]),n>r?-1:r>n?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new Buffer(0);if(1===t.length)return t[0];var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new Buffer(e),i=0;for(r=0;r<t.length;r++){var f=t[r];f.copy(n,i),i+=f.length}return n},Buffer.byteLength=function(t,e){var r;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":r=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*t.length;break;case"hex":r=t.length>>>1;break;case"utf8":case"utf-8":r=utf8ToBytes(t).length;break;case"base64":r=base64ToBytes(t).length;break;default:r=t.length}return r},Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0,Buffer.prototype.toString=function(t,e,r){var n=!1;if(e>>>=0,r=void 0===r||1/0===r?this.length:r>>>0,t||(t="utf8"),0>e&&(e=0),r>this.length&&(r=this.length),e>=r)return"";for(;;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"binary":return binarySlice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return Buffer.compare(this,t)},Buffer.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},Buffer.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},Buffer.prototype.write=function(t,e,r,n){if(isFinite(e))isFinite(r)||(n=r,r=void 0);else{var i=n;n=e,e=r,r=i}e=Number(e)||0;var f=this.length-e;r?(r=Number(r),r>f&&(r=f)):r=f,n=String(n||"utf8").toLowerCase();var o;switch(n){case"hex":o=hexWrite(this,t,e,r);break;case"utf8":case"utf-8":o=utf8Write(this,t,e,r);break;case"ascii":o=asciiWrite(this,t,e,r);break;case"binary":o=binaryWrite(this,t,e,r);break;case"base64":o=base64Write(this,t,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=utf16leWrite(this,t,e,r);break;default:throw new TypeError("Unknown encoding: "+n)}return o},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(t,e){var r=this.length;if(t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)return Buffer._augment(this.subarray(t,e));for(var n=e-t,i=new Buffer(n,void 0,!0),f=0;n>f;f++)i[f]=this[f+t];return i},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||checkInt(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){var i=this;if(r||(r=0),n||0===n||(n=this.length),e||(e=0),n!==r&&0!==t.length&&0!==i.length){if(r>n)throw new TypeError("sourceEnd < sourceStart");if(0>e||e>=t.length)throw new TypeError("targetStart out of bounds");if(0>r||r>=i.length)throw new TypeError("sourceStart out of bounds");if(0>n||n>i.length)throw new TypeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f=n-r;if(1e3>f||!Buffer.TYPED_ARRAY_SUPPORT)for(var o=0;f>o;o++)t[o+e]=this[o+r];else t._set(this.subarray(r,r+f),e)}},Buffer.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),e>r)throw new TypeError("end < start");if(r!==e&&0!==this.length){if(0>e||e>=this.length)throw new TypeError("start out of bounds");if(0>r||r>this.length)throw new TypeError("end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var i=utf8ToBytes(t.toString()),f=i.length;for(n=e;r>n;n++)this[n]=i[n%f]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(t){return t.constructor=Buffer,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=BP.get,t.set=BP.set,t.write=BP.write,t.toString=BP.toString,t.toLocaleString=BP.toString,t.toJSON=BP.toJSON,t.equals=BP.equals,t.compare=BP.compare,t.copy=BP.copy,t.slice=BP.slice,t.readUInt8=BP.readUInt8,t.readUInt16LE=BP.readUInt16LE,t.readUInt16BE=BP.readUInt16BE,t.readUInt32LE=BP.readUInt32LE,t.readUInt32BE=BP.readUInt32BE,t.readInt8=BP.readInt8,t.readInt16LE=BP.readInt16LE,t.readInt16BE=BP.readInt16BE,t.readInt32LE=BP.readInt32LE,t.readInt32BE=BP.readInt32BE,t.readFloatLE=BP.readFloatLE,t.readFloatBE=BP.readFloatBE,t.readDoubleLE=BP.readDoubleLE,t.readDoubleBE=BP.readDoubleBE,t.writeUInt8=BP.writeUInt8,t.writeUInt16LE=BP.writeUInt16LE,t.writeUInt16BE=BP.writeUInt16BE,t.writeUInt32LE=BP.writeUInt32LE,t.writeUInt32BE=BP.writeUInt32BE,t.writeInt8=BP.writeInt8,t.writeInt16LE=BP.writeInt16LE,t.writeInt16BE=BP.writeInt16BE,t.writeInt32LE=BP.writeInt32LE,t.writeInt32BE=BP.writeInt32BE,t.writeFloatLE=BP.writeFloatLE,t.writeFloatBE=BP.writeFloatBE,t.writeDoubleLE=BP.writeDoubleLE,t.writeDoubleBE=BP.writeDoubleBE,t.fill=BP.fill,t.inspect=BP.inspect,t.toArrayBuffer=BP.toArrayBuffer,t};var INVALID_BASE64_RE=/[^+\/0-9A-z]/g;
},{"base64-js":3,"ieee754":4,"is-array":5}],3:[function(require,module,exports){
var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===h?62:r===c?63:o>r?-1:o+10>r?r-o+26+26:i+26>r?r-i:A+26>r?r-A+26:void 0}function e(t){function e(t){i[f++]=t}var n,h,c,o,A,i;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;A="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,i=new a(3*t.length/4-A),c=A>0?t.length-4:t.length;var f=0;for(n=0,h=0;c>n;n+=4,h+=3)o=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&o)>>16),e((65280&o)>>8),e(255&o);return 2===A?(o=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&o)):1===A&&(o=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(o>>8&255),e(255&o)),i}function n(t){function r(t){return lookup.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var n,a,h,c=t.length%3,o="";for(n=0,h=t.length-c;h>n;n+=3)a=(t[n]<<16)+(t[n+1]<<8)+t[n+2],o+=e(a);switch(c){case 1:a=t[t.length-1],o+=r(a>>2),o+=r(a<<4&63),o+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],o+=r(a>>10),o+=r(a>>4&63),o+=r(a<<2&63),o+="="}return o}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),o="0".charCodeAt(0),A="a".charCodeAt(0),i="A".charCodeAt(0);t.toByteArray=e,t.fromByteArray=n}("undefined"==typeof exports?this.base64js={}:exports);
},{}],4:[function(require,module,exports){
exports.read=function(o,t,a,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,n=a?h-1:0,s=a?-1:1,N=o[t+n];for(n+=s,M=N&(1<<-i)-1,N>>=-i,i+=w;i>0;M=256*M+o[t+n],n+=s,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+o[t+n],n+=s,i-=8);if(0===M)M=1-e;else{if(M===f)return p?0/0:1/0*(N?-1:1);p+=Math.pow(2,r),M-=e}return(N?-1:1)*p*Math.pow(2,M-r)},exports.write=function(o,t,a,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,n=i>>1,s=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,N=r?0:M-1,u=r?1:-1,l=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(w=isNaN(t)?1:0,p=i):(p=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-p))<1&&(p--,f*=2),t+=p+n>=1?s/f:s*Math.pow(2,1-n),t*f>=2&&(p++,f/=2),p+n>=i?(w=0,p=i):p+n>=1?(w=(t*f-1)*Math.pow(2,h),p+=n):(w=t*Math.pow(2,n-1)*Math.pow(2,h),p=0));h>=8;o[a+N]=255&w,N+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;o[a+N]=255&p,N+=u,p/=256,e-=8);o[a+N-u]|=128*l};
},{}],5:[function(require,module,exports){
var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(r){return!!r&&"[object Array]"==str.call(r)};
},{}],6:[function(require,module,exports){
(function (Buffer){
function toConstructor(r){return function(){var t=[],e={update:function(r,e){return Buffer.isBuffer(r)||(r=new Buffer(r,e)),t.push(r),this},digest:function(e){var n=Buffer.concat(t),u=r(n);return t=null,e?u.toString(e):u}};return e}}var createHash=require("sha.js"),md5=toConstructor(require("./md5")),rmd160=toConstructor(require("ripemd160"));module.exports=function(r){return"md5"===r?new md5:"rmd160"===r?new rmd160:createHash(r)};
}).call(this,require("buffer").Buffer)
},{"./md5":10,"buffer":2,"ripemd160":12,"sha.js":14}],7:[function(require,module,exports){
(function (Buffer){
function Hmac(e,t){if(!(this instanceof Hmac))return new Hmac(e,t);this._opad=s,this._alg=e;var a="sha512"===e?128:64;t=this._key=Buffer.isBuffer(t)?t:new Buffer(t),t.length>a?t=createHash(e).update(t).digest():t.length<a&&(t=Buffer.concat([t,zeroBuffer],a));for(var r=this._ipad=new Buffer(a),s=this._opad=new Buffer(a),f=0;a>f;f++)r[f]=54^t[f],s[f]=92^t[f];this._hash=createHash(e).update(r)}var createHash=require("./create-hash"),zeroBuffer=new Buffer(128);zeroBuffer.fill(0),module.exports=Hmac,Hmac.prototype.update=function(e,t){return this._hash.update(e,t),this},Hmac.prototype.digest=function(e){var t=this._hash.digest();return createHash(this._alg).update(this._opad).update(t).digest(e)};
}).call(this,require("buffer").Buffer)
},{"./create-hash":6,"buffer":2}],8:[function(require,module,exports){
(function (Buffer){
function toArray(r,e){if(r.length%intSize!==0){var t=r.length+(intSize-r.length%intSize);r=Buffer.concat([r,zeroBuffer],t)}for(var f=[],n=e?r.readInt32BE:r.readInt32LE,i=0;i<r.length;i+=intSize)f.push(n.call(r,i));return f}function toBuffer(r,e,t){for(var f=new Buffer(e),n=t?f.writeInt32BE:f.writeInt32LE,i=0;i<r.length;i++)n.call(f,r[i],4*i,!0);return f}function hash(r,e,t,f){Buffer.isBuffer(r)||(r=new Buffer(r));var n=e(toArray(r,f),r.length*chrsz);return toBuffer(n,t,f)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;module.exports={hash:hash};
}).call(this,require("buffer").Buffer)
},{"buffer":2}],9:[function(require,module,exports){
(function (Buffer){
function error(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function each(e,r){for(var t in e)r(e[t],t)}var rng=require("./rng");exports.createHash=require("./create-hash"),exports.createHmac=require("./create-hmac"),exports.randomBytes=function(e,r){if(!r||!r.call)return new Buffer(rng(e));try{r.call(this,void 0,new Buffer(rng(e)))}catch(t){r(t)}},exports.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var p=require("./pbkdf2")(exports);exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync,each(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(e){exports[e]=function(){error("sorry,",e,"is not implemented yet")}});
}).call(this,require("buffer").Buffer)
},{"./create-hash":6,"./create-hmac":7,"./pbkdf2":18,"./rng":19,"buffer":2}],10:[function(require,module,exports){
function core_md5(d,_){d[_>>5]|=128<<_%32,d[(_+64>>>9<<4)+14]=_;for(var m=1732584193,f=-271733879,i=-1732584194,h=271733878,g=0;g<d.length;g+=16){var r=m,n=f,e=i,a=h;m=md5_ff(m,f,i,h,d[g+0],7,-680876936),h=md5_ff(h,m,f,i,d[g+1],12,-389564586),i=md5_ff(i,h,m,f,d[g+2],17,606105819),f=md5_ff(f,i,h,m,d[g+3],22,-1044525330),m=md5_ff(m,f,i,h,d[g+4],7,-176418897),h=md5_ff(h,m,f,i,d[g+5],12,1200080426),i=md5_ff(i,h,m,f,d[g+6],17,-1473231341),f=md5_ff(f,i,h,m,d[g+7],22,-45705983),m=md5_ff(m,f,i,h,d[g+8],7,1770035416),h=md5_ff(h,m,f,i,d[g+9],12,-1958414417),i=md5_ff(i,h,m,f,d[g+10],17,-42063),f=md5_ff(f,i,h,m,d[g+11],22,-1990404162),m=md5_ff(m,f,i,h,d[g+12],7,1804603682),h=md5_ff(h,m,f,i,d[g+13],12,-40341101),i=md5_ff(i,h,m,f,d[g+14],17,-1502002290),f=md5_ff(f,i,h,m,d[g+15],22,1236535329),m=md5_gg(m,f,i,h,d[g+1],5,-165796510),h=md5_gg(h,m,f,i,d[g+6],9,-1069501632),i=md5_gg(i,h,m,f,d[g+11],14,643717713),f=md5_gg(f,i,h,m,d[g+0],20,-373897302),m=md5_gg(m,f,i,h,d[g+5],5,-701558691),h=md5_gg(h,m,f,i,d[g+10],9,38016083),i=md5_gg(i,h,m,f,d[g+15],14,-660478335),f=md5_gg(f,i,h,m,d[g+4],20,-405537848),m=md5_gg(m,f,i,h,d[g+9],5,568446438),h=md5_gg(h,m,f,i,d[g+14],9,-1019803690),i=md5_gg(i,h,m,f,d[g+3],14,-187363961),f=md5_gg(f,i,h,m,d[g+8],20,1163531501),m=md5_gg(m,f,i,h,d[g+13],5,-1444681467),h=md5_gg(h,m,f,i,d[g+2],9,-51403784),i=md5_gg(i,h,m,f,d[g+7],14,1735328473),f=md5_gg(f,i,h,m,d[g+12],20,-1926607734),m=md5_hh(m,f,i,h,d[g+5],4,-378558),h=md5_hh(h,m,f,i,d[g+8],11,-2022574463),i=md5_hh(i,h,m,f,d[g+11],16,1839030562),f=md5_hh(f,i,h,m,d[g+14],23,-35309556),m=md5_hh(m,f,i,h,d[g+1],4,-1530992060),h=md5_hh(h,m,f,i,d[g+4],11,1272893353),i=md5_hh(i,h,m,f,d[g+7],16,-155497632),f=md5_hh(f,i,h,m,d[g+10],23,-1094730640),m=md5_hh(m,f,i,h,d[g+13],4,681279174),h=md5_hh(h,m,f,i,d[g+0],11,-358537222),i=md5_hh(i,h,m,f,d[g+3],16,-722521979),f=md5_hh(f,i,h,m,d[g+6],23,76029189),m=md5_hh(m,f,i,h,d[g+9],4,-640364487),h=md5_hh(h,m,f,i,d[g+12],11,-421815835),i=md5_hh(i,h,m,f,d[g+15],16,530742520),f=md5_hh(f,i,h,m,d[g+2],23,-995338651),m=md5_ii(m,f,i,h,d[g+0],6,-198630844),h=md5_ii(h,m,f,i,d[g+7],10,1126891415),i=md5_ii(i,h,m,f,d[g+14],15,-1416354905),f=md5_ii(f,i,h,m,d[g+5],21,-57434055),m=md5_ii(m,f,i,h,d[g+12],6,1700485571),h=md5_ii(h,m,f,i,d[g+3],10,-1894986606),i=md5_ii(i,h,m,f,d[g+10],15,-1051523),f=md5_ii(f,i,h,m,d[g+1],21,-2054922799),m=md5_ii(m,f,i,h,d[g+8],6,1873313359),h=md5_ii(h,m,f,i,d[g+15],10,-30611744),i=md5_ii(i,h,m,f,d[g+6],15,-1560198380),f=md5_ii(f,i,h,m,d[g+13],21,1309151649),m=md5_ii(m,f,i,h,d[g+4],6,-145523070),h=md5_ii(h,m,f,i,d[g+11],10,-1120210379),i=md5_ii(i,h,m,f,d[g+2],15,718787259),f=md5_ii(f,i,h,m,d[g+9],21,-343485551),m=safe_add(m,r),f=safe_add(f,n),i=safe_add(i,e),h=safe_add(h,a)}return Array(m,f,i,h)}function md5_cmn(d,_,m,f,i,h){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,h)),i),m)}function md5_ff(d,_,m,f,i,h,g){return md5_cmn(_&m|~_&f,d,_,i,h,g)}function md5_gg(d,_,m,f,i,h,g){return md5_cmn(_&f|m&~f,d,_,i,h,g)}function md5_hh(d,_,m,f,i,h,g){return md5_cmn(_^m^f,d,_,i,h,g)}function md5_ii(d,_,m,f,i,h,g){return md5_cmn(m^(_|~f),d,_,i,h,g)}function safe_add(d,_){var m=(65535&d)+(65535&_),f=(d>>16)+(_>>16)+(m>>16);return f<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_}var helpers=require("./helpers");module.exports=function(d){return helpers.hash(d,core_md5,16)};
},{"./helpers":8}],11:[function(require,module,exports){
(function (Buffer){
module.exports=function(e){function r(e,r,n,o,f,u){if("function"==typeof f&&(u=f,f=void 0),"function"!=typeof u)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var a;try{a=t(e,r,n,o,f)}catch(i){return u(i)}u(void 0,a)})}function t(r,t,n,o,f){if("number"!=typeof n)throw new TypeError("Iterations not a number");if(0>n)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(0>o)throw new TypeError("Bad key length");f=f||"sha1",Buffer.isBuffer(r)||(r=new Buffer(r)),Buffer.isBuffer(t)||(t=new Buffer(t));var u,a,i,c=1,p=new Buffer(o),w=new Buffer(t.length+4);t.copy(w,0,0,t.length);for(var h=1;c>=h;h++){w.writeUInt32BE(h,t.length);var y=e.createHmac(f,r).update(w).digest();if(!u&&(u=y.length,i=new Buffer(u),c=Math.ceil(o/u),a=o-(c-1)*u,o>(Math.pow(2,32)-1)*u))throw new TypeError("keylen exceeds maximum length");y.copy(i,0,0,u);for(var d=1;n>d;d++){y=e.createHmac(f,r).update(y).digest();for(var l=0;u>l;l++)i[l]^=y[l]}var B=(h-1)*u,m=h==c?a:u;i.copy(p,B,0,m)}return p}return{pbkdf2:r,pbkdf2Sync:t}};
}).call(this,require("buffer").Buffer)
},{"buffer":2}],12:[function(require,module,exports){
(function (Buffer){
function f1(r,f,n){return r^f^n}function f2(r,f,n){return r&f|~r&n}function f3(r,f,n){return(r|~f)^n}function f4(r,f,n){return r&n|f&~n}function f5(r,f,n){return r^(f|~n)}function rotl(r,f){return r<<f|r>>>32-f}function ripemd160(r){var f=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof r&&(r=new Buffer(r,"utf8"));var n=bytesToWords(r),t=8*r.length,o=8*r.length;n[t>>>5]|=128<<24-t%32,n[(t+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var e=0;e<n.length;e+=16)processBlock(f,n,e);for(var e=0;5>e;e++){var u=f[e];f[e]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var l=wordsToBytes(f);return new Buffer(l)}module.exports=ripemd160;var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0],bytesToWords=function(r){for(var f=[],n=0,t=0;n<r.length;n++,t+=8)f[t>>>5]|=r[n]<<24-t%32;return f},wordsToBytes=function(r){for(var f=[],n=0;n<32*r.length;n+=8)f.push(r[n>>>5]>>>24-n%32&255);return f},processBlock=function(r,f,n){for(var t=0;16>t;t++){var o=n+t,e=f[o];f[o]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8)}var u,l,s,h,c,a,i,v,d,p;a=u=r[0],i=l=r[1],v=s=r[2],d=h=r[3],p=c=r[4];for(var g,t=0;80>t;t+=1)g=u+f[n+zl[t]]|0,g+=16>t?f1(l,s,h)+hl[0]:32>t?f2(l,s,h)+hl[1]:48>t?f3(l,s,h)+hl[2]:64>t?f4(l,s,h)+hl[3]:f5(l,s,h)+hl[4],g=0|g,g=rotl(g,sl[t]),g=g+c|0,u=c,c=h,h=rotl(s,10),s=l,l=g,g=a+f[n+zr[t]]|0,g+=16>t?f5(i,v,d)+hr[0]:32>t?f4(i,v,d)+hr[1]:48>t?f3(i,v,d)+hr[2]:64>t?f2(i,v,d)+hr[3]:f1(i,v,d)+hr[4],g=0|g,g=rotl(g,sr[t]),g=g+p|0,a=p,p=d,d=rotl(v,10),v=i,i=g;g=r[1]+s+d|0,r[1]=r[2]+h+p|0,r[2]=r[3]+c+a|0,r[3]=r[4]+u+i|0,r[4]=r[0]+l+v|0,r[0]=g};
}).call(this,require("buffer").Buffer)
},{"buffer":2}],13:[function(require,module,exports){
module.exports=function(t){function i(i,s){this._block=new t(i),this._finalSize=s,this._blockSize=i,this._len=0,this._s=0}return i.prototype.init=function(){this._s=0,this._len=0},i.prototype.update=function(i,s){"string"==typeof i&&(s=s||"utf8",i=new t(i,s));for(var e=this._len+=i.length,h=this._s=this._s||0,o=0,_=this._block;e>h;){for(var l=Math.min(i.length,o+this._blockSize-h%this._blockSize),n=l-o,c=0;n>c;c++)_[h%this._blockSize+c]=i[c+o];h+=n,o+=n,h%this._blockSize===0&&this._update(_)}return this._s=h,this},i.prototype.digest=function(t){var i=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),i%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(i,this._blockSize-4);var s=this._update(this._block)||this._hash();return t?s.toString(t):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},i};
},{}],14:[function(require,module,exports){
var exports=module.exports=function(r){var e=exports[r];if(!e)throw new Error(r+" is not supported (we accept pull requests)");return new e},Buffer=require("buffer").Buffer,Hash=require("./hash")(Buffer);exports.sha1=require("./sha1")(Buffer,Hash),exports.sha256=require("./sha256")(Buffer,Hash),exports.sha512=require("./sha512")(Buffer,Hash);
},{"./hash":13,"./sha1":15,"./sha256":16,"./sha512":17,"buffer":2}],15:[function(require,module,exports){
var inherits=require("util").inherits;module.exports=function(t,i){function n(){return f.length?f.pop().init():this instanceof n?(this._w=p,i.call(this,64,56),this._h=null,void this.init()):new n}function r(t,i,n,r){return 20>t?i&n|~i&r:40>t?i^n^r:60>t?i&n|i&r|n&r:i^n^r}function e(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function h(t,i){return t+i|0}function s(t,i){return t<<i|t>>>32-i}var o=0,_=4,u=8,a=12,c=16,p=new("undefined"==typeof Int32Array?Array:Int32Array)(80),f=[];return inherits(n,i),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,i.prototype.init.call(this),this},n.prototype._POOL=f,n.prototype._update=function(t){var i,n,o,_,u,a,c,p,f,d;i=a=this._a,n=c=this._b,o=p=this._c,_=f=this._d,u=d=this._e;for(var l=this._w,w=0;80>w;w++){var y=l[w]=16>w?t.readInt32BE(4*w):s(l[w-3]^l[w-8]^l[w-14]^l[w-16],1),I=h(h(s(i,5),r(w,n,o,_)),h(h(u,y),e(w)));u=_,_=o,o=s(n,30),n=i,i=I}this._a=h(i,a),this._b=h(n,c),this._c=h(o,p),this._d=h(_,f),this._e=h(u,d)},n.prototype._hash=function(){f.length<100&&f.push(this);var i=new t(20);return i.writeInt32BE(0|this._a,o),i.writeInt32BE(0|this._b,_),i.writeInt32BE(0|this._c,u),i.writeInt32BE(0|this._d,a),i.writeInt32BE(0|this._e,c),i},n};
},{"util":24}],16:[function(require,module,exports){
var inherits=require("util").inherits;module.exports=function(t,i){function h(){this.init(),this._w=a,i.call(this,64,56)}function n(t,i){return t>>>i|t<<32-i}function s(t,i){return t>>>i}function r(t,i,h){return t&i^~t&h}function _(t,i,h){return t&i^t&h^i&h}function e(t){return n(t,2)^n(t,13)^n(t,22)}function u(t){return n(t,6)^n(t,11)^n(t,25)}function o(t){return n(t,7)^n(t,18)^s(t,3)}function c(t){return n(t,17)^n(t,19)^s(t,10)}var f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);return inherits(h,i),h.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},h.prototype._update=function(t){var i,h,n,s,a,w,B,E,I,d,p=this._w;i=0|this._a,h=0|this._b,n=0|this._c,s=0|this._d,a=0|this._e,w=0|this._f,B=0|this._g,E=0|this._h;for(var v=0;64>v;v++){var b=p[v]=16>v?t.readInt32BE(4*v):c(p[v-2])+p[v-7]+o(p[v-15])+p[v-16];I=E+u(a)+r(a,w,B)+f[v]+b,d=e(i)+_(i,h,n),E=B,B=w,w=a,a=s+I,s=n,n=h,h=i,i=I+d}this._a=i+this._a|0,this._b=h+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=w+this._f|0,this._g=B+this._g|0,this._h=E+this._h|0},h.prototype._hash=function(){var i=new t(32);return i.writeInt32BE(this._a,0),i.writeInt32BE(this._b,4),i.writeInt32BE(this._c,8),i.writeInt32BE(this._d,12),i.writeInt32BE(this._e,16),i.writeInt32BE(this._f,20),i.writeInt32BE(this._g,24),i.writeInt32BE(this._h,28),i},h};
},{"util":24}],17:[function(require,module,exports){
var inherits=require("util").inherits;module.exports=function(t,i){function h(){this.init(),this._w=e,i.call(this,128,112)}function s(t,i,h){return t>>>h|i<<32-h}function _(t,i,h){return t&i^~t&h}function l(t,i,h){return t&i^t&h^i&h}var r=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],e=new Array(160);return inherits(h,i),h.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},h.prototype._update=function(t){var i,h,e,n,a,f,c,u,o,d,b,g,v,p,w,y,B=this._w;i=0|this._a,h=0|this._b,e=0|this._c,n=0|this._d,a=0|this._e,f=0|this._f,c=0|this._g,u=0|this._h,o=0|this._al,d=0|this._bl,b=0|this._cl,g=0|this._dl,v=0|this._el,p=0|this._fl,w=0|this._gl,y=0|this._hl;for(var E=0;80>E;E++){var I,m,q=2*E;if(16>E)I=B[q]=t.readInt32BE(4*q),m=B[q+1]=t.readInt32BE(4*q+4);else{var x=B[q-30],A=B[q-30+1],j=s(x,A,1)^s(x,A,8)^x>>>7,k=s(A,x,1)^s(A,x,8)^s(A,x,7);x=B[q-4],A=B[q-4+1];var z=s(x,A,19)^s(A,x,29)^x>>>6,C=s(A,x,19)^s(x,A,29)^s(A,x,6),D=B[q-14],F=B[q-14+1],G=B[q-32],H=B[q-32+1];m=k+F,I=j+D+(k>>>0>m>>>0?1:0),m+=C,I=I+z+(C>>>0>m>>>0?1:0),m+=H,I=I+G+(H>>>0>m>>>0?1:0),B[q]=I,B[q+1]=m}var J=l(i,h,e),K=l(o,d,b),L=s(i,o,28)^s(o,i,2)^s(o,i,7),M=s(o,i,28)^s(i,o,2)^s(i,o,7),N=s(a,v,14)^s(a,v,18)^s(v,a,9),O=s(v,a,14)^s(v,a,18)^s(a,v,9),P=r[q],Q=r[q+1],R=_(a,f,c),S=_(v,p,w),T=y+O,U=u+N+(y>>>0>T>>>0?1:0);T+=S,U=U+R+(S>>>0>T>>>0?1:0),T+=Q,U=U+P+(Q>>>0>T>>>0?1:0),T+=m,U=U+I+(m>>>0>T>>>0?1:0);var V=M+K,W=L+J+(M>>>0>V>>>0?1:0);u=c,y=w,c=f,w=p,f=a,p=v,v=g+T|0,a=n+U+(g>>>0>v>>>0?1:0)|0,n=e,g=b,e=h,b=d,h=i,d=o,o=T+V|0,i=U+W+(T>>>0>o>>>0?1:0)|0}this._al=this._al+o|0,this._bl=this._bl+d|0,this._cl=this._cl+b|0,this._dl=this._dl+g|0,this._el=this._el+v|0,this._fl=this._fl+p|0,this._gl=this._gl+w|0,this._hl=this._hl+y|0,this._a=this._a+i+(this._al>>>0<o>>>0?1:0)|0,this._b=this._b+h+(this._bl>>>0<d>>>0?1:0)|0,this._c=this._c+e+(this._cl>>>0<b>>>0?1:0)|0,this._d=this._d+n+(this._dl>>>0<g>>>0?1:0)|0,this._e=this._e+a+(this._el>>>0<v>>>0?1:0)|0,this._f=this._f+f+(this._fl>>>0<p>>>0?1:0)|0,this._g=this._g+c+(this._gl>>>0<w>>>0?1:0)|0,this._h=this._h+u+(this._hl>>>0<y>>>0?1:0)|0},h.prototype._hash=function(){function i(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}var h=new t(64);return i(this._a,this._al,0),i(this._b,this._bl,8),i(this._c,this._cl,16),i(this._d,this._dl,24),i(this._e,this._el,32),i(this._f,this._fl,40),i(this._g,this._gl,48),i(this._h,this._hl,56),h},h};
},{"util":24}],18:[function(require,module,exports){
var pbkdf2Export=require("pbkdf2-compat/pbkdf2");module.exports=function(p,d){d=d||{};var f=pbkdf2Export(p);return d.pbkdf2=f.pbkdf2,d.pbkdf2Sync=f.pbkdf2Sync,d};
},{"pbkdf2-compat/pbkdf2":11}],19:[function(require,module,exports){
(function (global,Buffer){
!function(){var r=("undefined"==typeof window?global:window)||{};_crypto=r.crypto||r.msCrypto||require("crypto"),module.exports=function(r){if(_crypto.getRandomValues){var e=new Buffer(r);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(r);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}();
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)
},{"buffer":2,"crypto":1}],20:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-->0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};
},{}],21:[function(require,module,exports){
module.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],22:[function(require,module,exports){
function noop(){}var process=module.exports={};process.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,o="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var s=[];if(o){var r=document.createElement("div"),t=new MutationObserver(function(){var e=s.slice();s.length=0,e.forEach(function(e){e()})});return t.observe(r,{attributes:!0}),function(e){s.length||r.setAttribute("yes","no"),s.push(e)}}return n?(window.addEventListener("message",function(e){var o=e.source;if((o===window||null===o)&&"process-tick"===e.data&&(e.stopPropagation(),s.length>0)){var n=s.shift();n()}},!0),function(e){s.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")};
},{}],23:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],24:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e){return e}function arrayToHash(e){var r={};return e.forEach(function(e){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var a="",c=!1,l=["{","}"];if(isArray(r)&&(c=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";a=" [Function"+p+"]"}if(isRegExp(r)&&(a=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(a=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(a=" "+formatError(r)),0===o.length&&(!c||0==r.length))return l[0]+a+l[1];if(0>t)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=c?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,c)}),e.seen.pop(),reduceToSingleString(f,a,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;u>s;++s)o.push(hasOwnProperty(r,String(s))?formatProperty(e,r,t,n,String(s),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,a;if(a=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},a.get?u=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(u=isNull(t)?formatValue(e,a.value,null):formatValue(e,a.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(r){return"[Circular]"}default:return e}}),s=n[t];i>t;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./support/isBuffer":23,"_process":22,"inherits":21}],25:[function(require,module,exports){
function flatten(e,t,n,l){return"boolean"!=typeof t&&null!=t&&(l=n,n="function"!=typeof t&&l&&l[t]===e?null:t,t=!1),null!=n&&(e=map(e,n,l)),baseFlatten(e,t)}var baseFlatten=require("../internals/baseFlatten"),map=require("../collections/map");module.exports=flatten;
},{"../collections/map":26,"../internals/baseFlatten":34}],26:[function(require,module,exports){
function map(r,e,a){var n=-1,o=r?r.length:0;if(e=createCallback(e,a,3),"number"==typeof o)for(var t=Array(o);++n<o;)t[n]=e(r[n],n,r);else t=[],forOwn(r,function(r,a,o){t[++n]=e(r,a,o)});return t}var createCallback=require("../functions/createCallback"),forOwn=require("../objects/forOwn");module.exports=map;
},{"../functions/createCallback":28,"../objects/forOwn":46}],27:[function(require,module,exports){
function bind(e,r){return arguments.length>2?createWrapper(e,17,slice(arguments,2),null,r):createWrapper(e,1,null,null,r)}var createWrapper=require("../internals/createWrapper"),slice=require("../internals/slice");module.exports=bind;
},{"../internals/createWrapper":36,"../internals/slice":44}],28:[function(require,module,exports){
function createCallback(e,r,a){var t=typeof e;if(null==e||"function"==t)return baseCreateCallback(e,r,a);if("object"!=t)return property(e);var l=keys(e),n=l[0],s=e[n];return 1!=l.length||s!==s||isObject(s)?function(r){for(var a=l.length,t=!1;a--&&(t=baseIsEqual(r[l[a]],e[l[a]],null,!0)););return t}:function(e){var r=e[n];return s===r&&(0!==s||1/s==1/r)}}var baseCreateCallback=require("../internals/baseCreateCallback"),baseIsEqual=require("../internals/baseIsEqual"),isObject=require("../objects/isObject"),keys=require("../objects/keys"),property=require("../utilities/property");module.exports=createCallback;
},{"../internals/baseCreateCallback":32,"../internals/baseIsEqual":35,"../objects/isObject":50,"../objects/keys":51,"../utilities/property":55}],29:[function(require,module,exports){
var arrayPool=[];module.exports=arrayPool;
},{}],30:[function(require,module,exports){
function baseBind(e){function r(){if(t){var e=slice(t);push.apply(e,arguments)}if(this instanceof r){var i=baseCreate(a.prototype),n=a.apply(i,e||arguments);return isObject(n)?n:i}return a.apply(s,e||arguments)}var a=e[0],t=e[2],s=e[4];return setBindData(r,e),r}var baseCreate=require("./baseCreate"),isObject=require("../objects/isObject"),setBindData=require("./setBindData"),slice=require("./slice"),arrayRef=[],push=arrayRef.push;module.exports=baseBind;
},{"../objects/isObject":50,"./baseCreate":31,"./setBindData":42,"./slice":44}],31:[function(require,module,exports){
(function (global){
function baseCreate(e){return isObject(e)?nativeCreate(e):{}}var isNative=require("./isNative"),isObject=require("../objects/isObject"),noop=require("../utilities/noop"),nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate;nativeCreate||(baseCreate=function(){function e(){}return function(t){if(isObject(t)){e.prototype=t;var i=new e;e.prototype=null}return i||global.Object()}}()),module.exports=baseCreate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../objects/isObject":50,"../utilities/noop":54,"./isNative":38}],32:[function(require,module,exports){
function baseCreateCallback(t,e,n){if("function"!=typeof t)return identity;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(support.funcNames&&(r=!t.name),r=r||!support.funcDecomp,!r)){var i=fnToString.call(t);support.funcNames||(r=!reFuncName.test(i)),r||(r=reThis.test(i),setBindData(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,u){return t.call(e,n,r,i,u)}}return bind(t,e)}var bind=require("../functions/bind"),identity=require("../utilities/identity"),setBindData=require("./setBindData"),support=require("../support"),reFuncName=/^\s*function[ \n\r\t]+\w/,reThis=/\bthis\b/,fnToString=Function.prototype.toString;module.exports=baseCreateCallback;
},{"../functions/bind":27,"../support":52,"../utilities/identity":53,"./setBindData":42}],33:[function(require,module,exports){
function baseCreateWrapper(e){function r(){var e=n?p:this;if(s){var o=slice(s);push.apply(o,arguments)}if((i||c)&&(o||(o=slice(arguments)),i&&push.apply(o,i),c&&o.length<u))return t|=16,baseCreateWrapper([a,b?t:-4&t,o,null,p,u]);if(o||(o=arguments),l&&(a=e[f]),this instanceof r){e=baseCreate(a.prototype);var h=a.apply(e,o);return isObject(h)?h:e}return a.apply(e,o)}var a=e[0],t=e[1],s=e[2],i=e[3],p=e[4],u=e[5],n=1&t,l=2&t,c=4&t,b=8&t,f=a;return setBindData(r,e),r}var baseCreate=require("./baseCreate"),isObject=require("../objects/isObject"),setBindData=require("./setBindData"),slice=require("./slice"),arrayRef=[],push=arrayRef.push;module.exports=baseCreateWrapper;
},{"../objects/isObject":50,"./baseCreate":31,"./setBindData":42,"./slice":44}],34:[function(require,module,exports){
function baseFlatten(e,r,t,s){for(var n=(s||0)-1,a=e?e.length:0,i=[];++n<a;){var l=e[n];if(l&&"object"==typeof l&&"number"==typeof l.length&&(isArray(l)||isArguments(l))){r||(l=baseFlatten(l,r,t));var o=-1,u=l.length,g=i.length;for(i.length+=u;++o<u;)i[g++]=l[o]}else t||i.push(l)}return i}var isArguments=require("../objects/isArguments"),isArray=require("../objects/isArray");module.exports=baseFlatten;
},{"../objects/isArguments":47,"../objects/isArray":48}],35:[function(require,module,exports){
function baseIsEqual(r,e,t,s,a,o){if(t){var n=t(r,e);if("undefined"!=typeof n)return!!n}if(r===e)return 0!==r||1/r==1/e;var l=typeof r,c=typeof e;if(!(r!==r||r&&objectTypes[l]||e&&objectTypes[c]))return!1;if(null==r||null==e)return r===e;var i=toString.call(r),u=toString.call(e);if(i==argsClass&&(i=objectClass),u==argsClass&&(u=objectClass),i!=u)return!1;switch(i){case boolClass:case dateClass:return+r==+e;case numberClass:return r!=+r?e!=+e:0==r?1/r==1/e:r==+e;case regexpClass:case stringClass:return r==String(e)}var b=i==arrayClass;if(!b){var p=hasOwnProperty.call(r,"__wrapped__"),f=hasOwnProperty.call(e,"__wrapped__");if(p||f)return baseIsEqual(p?r.__wrapped__:r,f?e.__wrapped__:e,t,s,a,o);if(i!=objectClass)return!1;var y=r.constructor,j=e.constructor;if(y!=j&&!(isFunction(y)&&y instanceof y&&isFunction(j)&&j instanceof j)&&"constructor"in r&&"constructor"in e)return!1}var g=!a;a||(a=getArray()),o||(o=getArray());for(var C=a.length;C--;)if(a[C]==r)return o[C]==e;var _=0;if(n=!0,a.push(r),o.push(e),b){if(C=r.length,_=e.length,n=_==C,n||s)for(;_--;){var h=C,v=e[_];if(s)for(;h--&&!(n=baseIsEqual(r[h],v,t,s,a,o)););else if(!(n=baseIsEqual(r[_],v,t,s,a,o)))break}}else forIn(e,function(e,l,c){return hasOwnProperty.call(c,l)?(_++,n=hasOwnProperty.call(r,l)&&baseIsEqual(r[l],e,t,s,a,o)):void 0}),n&&!s&&forIn(r,function(r,e,t){return hasOwnProperty.call(t,e)?n=--_>-1:void 0});return a.pop(),o.pop(),g&&(releaseArray(a),releaseArray(o)),n}var forIn=require("../objects/forIn"),getArray=require("./getArray"),isFunction=require("../objects/isFunction"),objectTypes=require("./objectTypes"),releaseArray=require("./releaseArray"),argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]",objectProto=Object.prototype,toString=objectProto.toString,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseIsEqual;
},{"../objects/forIn":45,"../objects/isFunction":49,"./getArray":37,"./objectTypes":40,"./releaseArray":41}],36:[function(require,module,exports){
function createWrapper(e,r,a,i,p,s){var n=1&r,t=2&r,u=4&r,c=16&r,l=32&r;if(!t&&!isFunction(e))throw new TypeError;c&&!a.length&&(r&=-17,c=a=!1),l&&!i.length&&(r&=-33,l=i=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=slice(f),f[2]&&(f[2]=slice(f[2])),f[3]&&(f[3]=slice(f[3])),!n||1&f[1]||(f[4]=p),!n&&1&f[1]&&(r|=8),!u||4&f[1]||(f[5]=s),c&&push.apply(f[2]||(f[2]=[]),a),l&&unshift.apply(f[3]||(f[3]=[]),i),f[1]|=r,createWrapper.apply(null,f);var h=1==r||17===r?baseBind:baseCreateWrapper;return h([e,r,a,i,p,s])}var baseBind=require("./baseBind"),baseCreateWrapper=require("./baseCreateWrapper"),isFunction=require("../objects/isFunction"),slice=require("./slice"),arrayRef=[],push=arrayRef.push,unshift=arrayRef.unshift;module.exports=createWrapper;
},{"../objects/isFunction":49,"./baseBind":30,"./baseCreateWrapper":33,"./slice":44}],37:[function(require,module,exports){
function getArray(){return arrayPool.pop()||[]}var arrayPool=require("./arrayPool");module.exports=getArray;
},{"./arrayPool":29}],38:[function(require,module,exports){
function isNative(t){return"function"==typeof t&&reNative.test(t)}var objectProto=Object.prototype,toString=objectProto.toString,reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");module.exports=isNative;
},{}],39:[function(require,module,exports){
var maxPoolSize=40;module.exports=maxPoolSize;
},{}],40:[function(require,module,exports){
var objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};module.exports=objectTypes;
},{}],41:[function(require,module,exports){
function releaseArray(r){r.length=0,arrayPool.length<maxPoolSize&&arrayPool.push(r)}var arrayPool=require("./arrayPool"),maxPoolSize=require("./maxPoolSize");module.exports=releaseArray;
},{"./arrayPool":29,"./maxPoolSize":39}],42:[function(require,module,exports){
var isNative=require("./isNative"),noop=require("../utilities/noop"),descriptor={configurable:!1,enumerable:!1,value:null,writable:!1},defineProperty=function(){try{var e={},r=isNative(r=Object.defineProperty)&&r,i=r(e,e,e)&&r}catch(t){}return i}(),setBindData=defineProperty?function(e,r){descriptor.value=r,defineProperty(e,"__bindData__",descriptor)}:noop;module.exports=setBindData;
},{"../utilities/noop":54,"./isNative":38}],43:[function(require,module,exports){
var objectTypes=require("./objectTypes"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,shimKeys=function(e){var r,o=e,t=[];if(!o)return t;if(!objectTypes[typeof e])return t;for(r in o)hasOwnProperty.call(o,r)&&t.push(r);return t};module.exports=shimKeys;
},{"./objectTypes":40}],44:[function(require,module,exports){
function slice(e,r,n){r||(r=0),"undefined"==typeof n&&(n=e?e.length:0);for(var o=-1,t=n-r||0,f=Array(0>t?0:t);++o<t;)f[o]=e[r+o];return f}module.exports=slice;
},{}],45:[function(require,module,exports){
var baseCreateCallback=require("../internals/baseCreateCallback"),objectTypes=require("../internals/objectTypes"),forIn=function(e,r,a){var t,n=e,o=n;if(!n)return o;if(!objectTypes[typeof n])return o;r=r&&"undefined"==typeof a?r:baseCreateCallback(r,a,3);for(t in n)if(r(n[t],t,e)===!1)return o;return o};module.exports=forIn;
},{"../internals/baseCreateCallback":32,"../internals/objectTypes":40}],46:[function(require,module,exports){
var baseCreateCallback=require("../internals/baseCreateCallback"),keys=require("./keys"),objectTypes=require("../internals/objectTypes"),forOwn=function(e,r,t){var a,n=e,o=n;if(!n)return o;if(!objectTypes[typeof n])return o;r=r&&"undefined"==typeof t?r:baseCreateCallback(r,t,3);for(var s=-1,f=objectTypes[typeof n]&&keys(n),b=f?f.length:0;++s<b;)if(a=f[s],r(n[a],a,e)===!1)return o;return o};module.exports=forOwn;
},{"../internals/baseCreateCallback":32,"../internals/objectTypes":40,"./keys":51}],47:[function(require,module,exports){
function isArguments(t){return t&&"object"==typeof t&&"number"==typeof t.length&&toString.call(t)==argsClass||!1}var argsClass="[object Arguments]",objectProto=Object.prototype,toString=objectProto.toString;module.exports=isArguments;
},{}],48:[function(require,module,exports){
var isNative=require("../internals/isNative"),arrayClass="[object Array]",objectProto=Object.prototype,toString=objectProto.toString,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,isArray=nativeIsArray||function(r){return r&&"object"==typeof r&&"number"==typeof r.length&&toString.call(r)==arrayClass||!1};module.exports=isArray;
},{"../internals/isNative":38}],49:[function(require,module,exports){
function isFunction(n){return"function"==typeof n}module.exports=isFunction;
},{}],50:[function(require,module,exports){
function isObject(e){return!(!e||!objectTypes[typeof e])}var objectTypes=require("../internals/objectTypes");module.exports=isObject;
},{"../internals/objectTypes":40}],51:[function(require,module,exports){
var isNative=require("../internals/isNative"),isObject=require("./isObject"),shimKeys=require("../internals/shimKeys"),nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,keys=nativeKeys?function(e){return isObject(e)?nativeKeys(e):[]}:shimKeys;module.exports=keys;
},{"../internals/isNative":38,"../internals/shimKeys":43,"./isObject":50}],52:[function(require,module,exports){
(function (global){
var isNative=require("./internals/isNative"),reThis=/\bthis\b/,support={};support.funcDecomp=!isNative(global.WinRTError)&&reThis.test(function(){return this}),support.funcNames="string"==typeof Function.name,module.exports=support;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./internals/isNative":38}],53:[function(require,module,exports){
function identity(t){return t}module.exports=identity;
},{}],54:[function(require,module,exports){
function noop(){}module.exports=noop;
},{}],55:[function(require,module,exports){
function property(r){return function(t){return t[r]}}module.exports=property;
},{}],56:[function(require,module,exports){
(function (Buffer){
(function(){function r(r,e,n){var t=e&&n||0,u=0;for(e=e||[],r.toLowerCase().replace(/[0-9a-f]{2}/g,function(r){16>u&&(e[t+u++]=v[r])});16>u;)e[t+u++]=0;return e}function e(r,e){var n=e||0,t=l;return t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+"-"+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]+t[r[n++]]}function n(r,n,t){var u=n&&t||0,o=n||[];r=r||{};var a=null!=r.clockseq?r.clockseq:m,f=null!=r.msecs?r.msecs:(new Date).getTime(),i=null!=r.nsecs?r.nsecs:w+1,c=f-g+(i-w)/1e4;if(0>c&&null==r.clockseq&&(a=a+1&16383),(0>c||f>g)&&null==r.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=f,w=i,m=a,f+=122192928e5;var s=(1e4*(268435455&f)+i)%4294967296;o[u++]=s>>>24&255,o[u++]=s>>>16&255,o[u++]=s>>>8&255,o[u++]=255&s;var l=f/4294967296*1e4&268435455;o[u++]=l>>>8&255,o[u++]=255&l,o[u++]=l>>>24&15|16,o[u++]=l>>>16&255,o[u++]=a>>>8|128,o[u++]=255&a;for(var v=r.node||p,d=0;6>d;d++)o[u+d]=v[d];return n?n:e(o)}function t(r,n,t){var o=n&&t||0;"string"==typeof r&&(n="binary"==r?new s(16):null,r=null),r=r||{};var a=r.random||(r.rng||u)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var f=0;16>f;f++)n[o+f]=a[f];return n||e(a)}var u,o=this;if("function"==typeof require)try{var a=require("crypto").randomBytes;u=a&&function(){return a(16)}}catch(f){}if(!u&&o.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);u=function(){return crypto.getRandomValues(i),i}}if(!u){var c=new Array(16);u=function(){for(var r,e=0;16>e;e++)0===(3&e)&&(r=4294967296*Math.random()),c[e]=r>>>((3&e)<<3)&255;return c}}for(var s="function"==typeof Buffer?Buffer:Array,l=[],v={},d=0;256>d;d++)l[d]=(d+256).toString(16).substr(1),v[l[d]]=d;var y=u(),p=[1|y[0],y[1],y[2],y[3],y[4],y[5]],m=16383&(y[6]<<8|y[7]),g=0,w=0,h=t;if(h.v1=n,h.v4=t,h.parse=r,h.unparse=e,h.BufferClass=s,"function"==typeof define&&define.amd)define(function(){return h});else if("undefined"!=typeof module&&module.exports)module.exports=h;else{var q=o.uuid;h.noConflict=function(){return o.uuid=q,h},o.uuid=h}}).call(this);
}).call(this,require("buffer").Buffer)
},{"buffer":2,"crypto":9}],57:[function(require,module,exports){
"use strict";function connectionAdapter(e){var n;return Object.freeze({isConnected:function(){return 1===e.readyState},isEstablished:function(){return n},close:function(n,t){e.close(n,t)},send:function(n){e.send(JSON.stringify(n))},setEstablished:function(e){n=e},state:function(){return e.readyState}})}function connect(e){var n=e.presenceUrl,t=e.presenceDomain,o=e.sessionId,r=e.eventHandler;return new Promise(function(e,c){var i=(n||"wss://"+t+"/socket")+"/"+o;try{var s=new WebSocket(i),a=connectionAdapter(s);s.onopen=function(n){a.setEstablished(!0),e({connection:a}),r.emit("connected",{connection:a,event:n})},s.onclose=function(e){var n={connection:a,originalEvent:e,code:e.code,reason:e.reason,wasClean:e.wasClean};a.isEstablished()||c(n),r.emit("disconnected",n)},s.onerror=function(e){a.isEstablished()||c({connection:a,event:e}),r.emit("wsError",{connection:a,event:e})},s.onmessage=function(e){var n=JSON.parse(e.data);r.emit("message",{connection:a,event:e,data:n})}}catch(u){r.emit("wsError",{connection:a,err:u}),setTimeout(function(){c(u)},100)}})}function persistConnection(e){function n(){var n=e.retryTimeout||Math.floor(1e3*Math.random()+1e3);return r.emit("connectionRetry",{retryingIn:n,notConnectedFor:e.timer}),new Promise(function(e){setTimeout(e,n)}).then(function(){return e.timer=e.timer+n,persistConnection(e,t)})}var t=void 0===arguments[1]?connect:arguments[1],o=e.maxRetryTime||3e4,r=e.eventHandler;return e.timer=e.timer||0,r.emit("connectionTry"),t(e).then(function(){r.once("disconnected",function(t){4444!==t.code?(e.timer=0,r.emit("connectionRetry"),r.emit("reconnect",{connectionPromise:n()})):r.emit("connectionClosed",{errorMessage:"Connection lost ["+t.code+"]: "+t.reason,errorCode:t.code,errorReason:t.reason,errorEvent:t,message:"not calling the retry loop"})})})["catch"](function(t){return e.timer>=o?(r.emit("connectionError",{error:t,errorMessage:"Connection lost ["+t.code+"]: "+t.reason,errorCode:t.code,errorReason:t.reason,errorEvent:t,message:"given up calling the retry loop"}),Promise.reject(new Error("Max presence connection retries ["+event.code+"]: "+event.reason))):n()})}exports.connect=connect,exports.persistConnection=persistConnection,Object.defineProperty(exports,"__esModule",{value:!0});
},{}],58:[function(require,module,exports){
"use strict";function dispatcher(e){function t(e){return d[e]}function a(t){var a=t.data,r=s[t.data.action];r?r(a,t):e.emit("unknownMessage",t)}function r(t){var a=t.data.subscriptionId,r=d[a],n=new Date(t.data.timeSent).getTime();if(r&&r>n){var i={lastReceivedMessageTime:new Date(r),messageTime:new Date(n),message:t};return void e.emit("messageOutOfDate",i)}d[a]=n,e.emit(t.action,{subscriptionId:t.data.subscriptionId,currentState:t.data.currentState})}function n(t){e.emit(t.action,{data:t.data})}function i(t){e.emit("messageError",{message:"Failed message",data:t.data})}var s={updated:r,subscribed:n,entered:n,failed:i,connectionTest:heartbeatManager(e).handleHeartbeatMessage},d={};return e.on("message",a),Object.freeze({getLastMsgTimeById:t,dispatcherMessageHandler:a})}var _interopRequire=function(e){return e&&e.__esModule?e["default"]:e};module.exports=dispatcher;var heartbeatManager=_interopRequire(require("./dispatcher/heartbeat")),presenceHelper=_interopRequire(require("./presenceHelper")),MESSAGE_ACK_TIMEOUT=4e3;
},{"./dispatcher/heartbeat":59,"./presenceHelper":63}],59:[function(require,module,exports){
"use strict";function heartbeatManager(e){function t(){s=Date.now()}function n(){return s}function a(){return E}function r(t){var n=Date.now()-HEARTBEAT_WAIT_TIME;if(n>s){var a={lastHeartbeatTime:new Date(s),timeChecked:new Date(n)};e.emit("heartbeatClose",a),t.close(4009,"Heartbeat from server lost")}}function o(e){var n=e.connection;t(),E=setInterval(r.bind(this,n),HEARTBEAT_CHECK_INTERVAL)}function c(){clearInterval(E)}function i(n,a){t(),sendMessage(a.connection,CLIENT_HEARTBEAT_MESSAGE,e)}var s,E;return e.on("connected",o),e.on("disconnected",c),Object.freeze({handleHeartbeatMessage:i,getLastHeartbeatTime:n,getHeartbeatCheckInterval:a})}var _interopRequire=function(e){return e&&e.__esModule?e["default"]:e};module.exports=heartbeatManager;var HEARTBEAT_WAIT_TIME=15e3,HEARTBEAT_CHECK_INTERVAL=1e3,CLIENT_HEARTBEAT_MESSAGE=Object.freeze({action:"connected",data:{}}),sendMessage=_interopRequire(require("./send-message"));
},{"./send-message":60}],60:[function(require,module,exports){
"use strict";function sendMessage(e,s,t,n,a){return new Promise(function(i,o){var m,r,c=a||MESSAGE_ACK_TIMEOUT;return e.send(s),t.emit("dispatch",{message:s,expectedResponse:n}),n?(r=setTimeout(function(){t.emit("dispatchTimeout",{message:s,expectedResponse:n}),o(new Error('Presence dispatch timeout. Expected "'+n+'" message')),t.removeListener("message",m)},c),m=function(e){e.data&&e.data.action===n&&(t.emit("dispatchAcknowledgement",{message:s,expectedResponse:n}),t.removeListener("message",m),clearTimeout(r),i(e.data))},void t.on("message",m)):i()})}module.exports=sendMessage;var MESSAGE_ACK_TIMEOUT=4e3;
},{}],61:[function(require,module,exports){
"use strict";function presenceClient(e){function n(e,n){var t=p.create("enter",e,n);return t.data.subscriptionId=e,sendMessage(s,t,d,"entered")}function t(e,n){d.emit("connectionLog",{event:e,data:n})}function o(){return persistConnection({presenceUrl:a,presenceDomain:e.presenceDomain,sessionId:u,eventHandler:d}).then(function(){return f})}function r(e){var n=Array.isArray(e)?e:[e],t=p.create("subscribe",n);return t.data.subscriptionIds=n,sendMessage(s,t,d,"subscribed")}function i(){return s&&"function"==typeof s.close?s.close(4444):void 0}var s,c=e.user,u=e.sessionId||uuid.v4(),a=e.presenceUrl,d=new EventEmitter,p=messageFactory(c),f=(e.timer||0,Object.freeze({closeConnection:i,sessionId:u,startConnection:o,subscribe:r,connectionId:u,on:d.on.bind(d),once:d.once.bind(d),addListener:d.addListener.bind(d),removeListener:d.removeListener.bind(d),enter:n,url:e.presenceUrl,register:d.on.bind(d),registerOnce:d.once.bind(d),readOnly:n,onConnectionError:d.on.bind(d,"error")}));return dispatcher(d),d.on("connected",function(e){s=e.connection}),d.on("connected",function(){d.emit("connection.open")}),d.on("disconnected",function(e){t("disconnected",e),d.emit("connection.close")}),d.on("subscribed",function(e){d.emit("visitor-list-subscribe",e),t("subscribed")}),d.on("updated",function(e){d.emit("visitor-list-updated",e),t("updated")}),d.on("connectionError",function(e){t("connectionError",e),d.emit("connection.error")}),d.on("connectionClosed",function(e){t("connectionClosed",e)}),d.on("unknownMessage",function(e){t("unknownMessage",e)}),d.on("messageError",function(e){t("messageError",e)}),d.on("connectionTry",function(){t("connectionTry","calling the connection method")}),d.on("wsError",function(e){t("wsError",e)}),d.on("dispatch",function(e){"connected"!==e.message.action&&t("sendingMessage",e.message.action)}),d.on("dispatchRetry",function(e){t("retryingMessage",e.message.action)}),d.on("dispatchTimeout",function(e){t("dispatchTimeout",e.message.action)}),d.on("dispatchAcknowledgement",function(e){t("dispatchAcknowledgement",e.message.action)}),d.on("heartbeatClose",function(e){t("heartbeatClose",e)}),d.on("messageOutOfDate",function(e){t("messageOutOfDate",e)}),f}function legacyClientWrapper(e,n){var t="string"==typeof e?{presenceUrl:e,user:n}:e;return presenceClient(t)}var _interopRequire=function(e){return e&&e.__esModule?e["default"]:e};module.exports=legacyClientWrapper;var persistConnection=require("./connection").persistConnection,messageFactory=_interopRequire(require("./message")),dispatcher=_interopRequire(require("./dispatcher")),sendMessage=_interopRequire(require("./dispatcher/send-message")),EventEmitter=require("events").EventEmitter,uuid=_interopRequire(require("node-uuid"));
},{"./connection":57,"./dispatcher":58,"./dispatcher/send-message":60,"./message":62,"events":20,"node-uuid":56}],62:[function(require,module,exports){
"use strict";module.exports=function(a){function t(){var a=navigator.userAgent,t=a.match(/(chrome|firefox(?=\/))\/?\s*(\d+)/i)||[];return t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],t.join(" ")}function r(a,r,e,n){var o={action:a,data:{}},i={firstName:e.firstName,lastName:e.lastName,email:e.email,browserId:t(),googleId:"12345"};return o.data.person=i,o.data.location=n,o}function e(t,e,n){return r(t,e,a,n)}return{create:e}};
},{}],63:[function(require,module,exports){
"use strict";function difference(t,e){var n=t.filter(function(t){return 0===e.filter(function(e){return t.clientId.connId===e.clientId.connId}).length}),r=e.filter(function(e){return 0===t.filter(function(t){return e.clientId.connId===t.clientId.connId}).length});return{arrivals:r,departures:n}}function findNested(t,e,n){return Array.isArray(n)||(n=[]),_forOwn(t,function(t,r){r===e?n.push(t):findNested(t,e,n)}),n}function getProperty(t,e){return _flatten(findNested(t,e))[0]}function connectionId(t){return getProperty(t,"connId")}function whatChanged(t,e){var n=updatedState(e),r=difference(t,n);return r}function updatedState(t){return getProperty(t,"data").currentState}function subscribedState(t){return t.data.subscribedTo[0].currentState}var _forOwn=require("lodash-node/modern/objects/forOwn"),_flatten=require("lodash-node/modern/arrays/flatten");module.exports={connectionId:connectionId,whatChanged:whatChanged,subscribedState:subscribedState,updatedState:updatedState};
},{"lodash-node/modern/arrays/flatten":25,"lodash-node/modern/objects/forOwn":46}]},{},[61])(61)
});


//# sourceMappingURL=lib.min.js.map